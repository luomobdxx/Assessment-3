<div class="admin-container">
  <div class="events-header">
    <h2>Manage Registrations</h2>
  </div>

  <div *ngIf="loading" class="loading">Loading registrations...</div>

  <table class="events-table" *ngIf="!loading && registrations.length > 0; else noData">
    <thead>
    <tr>
      <th>ID</th>
      <th>Event</th>
      <th>Full Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Tickets</th>
      <th>Registered At</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let r of registrations">
      <td>{{ r.registration_id }}</td>
      <td>{{ r.event_name || r.event_id }}</td>
      <td>{{ r.full_name }}</td>
      <td>{{ r.email }}</td>
      <td>{{ r.phone }}</td>
      <td>{{ r.tickets }}</td>
      <td>{{ r.registered_at | date:'short' }}</td>
      <td class="actions">
        <button class="pill delete-btn" (click)="deleteRegistration(r.registration_id)">Delete</button>
      </td>
    </tr>
    </tbody>
  </table>

  <ng-template #noData>
    <div class="empty">No registrations found.</div>
  </ng-template>
</div>
